# Proyecto Final - Servicios Telem√°ticos

**Universidad Aut√≥noma de Occidente**  
**Estudiante:** William Reyes Valencia 
**C√≥digo:** 2215773  


##  Arquitectura
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Usuario   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ HTTPS (443)
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Nginx     ‚îÇ ‚óÑ‚îÄ‚îÄ Certificado SSL
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ HTTP (5000)
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Flask     ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ   MySQL     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚îÇ M√©tricas
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Prometheus  ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇNode Exporter‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Grafana   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

##  Instrucciones de Despliegue


### Instalaci√≥n 
```bash
# 1. Clonar el repositorio
git clone [URL_DEL_REPO]
cd proyecto-final-telematicos

# 2. Levantar la m√°quina virtual
vagrant up

# 3. Conectarse a la VM
vagrant ssh

# 4. Generar certificados SSL
cd /vagrant/docker/nginx/ssl
bash generate-ssl.sh

# 5. Levantar los contenedores
cd /vagrant/docker
sudo docker-compose up -d

# 6. Verificar que todo est√© corriendo
sudo docker ps
```

### Acceso a los Servicios

| Servicio | URL | Credenciales |
|----------|-----|--------------|
| **Aplicaci√≥n Web** | https://localhost:8443 | N/A |
| **Grafana** | http://localhost:3000 | admin / admin123 |
| **Prometheus** | http://localhost:9090 | N/A |

## üìä M√©tricas Monitoreadas

### 1. **node_cpu_seconds_total**
- **Descripci√≥n**: Tiempo de CPU por modo (idle, user, system)
- **Uso**: Detectar alto uso de CPU
- **Alerta**: CPU > 80% por 2 minutos

### 2. **node_memory_MemAvailable_bytes**
- **Descripci√≥n**: Memoria RAM disponible
- **Uso**: Monitorear disponibilidad de memoria
- **Alerta**: Memoria disponible < 20%

### 3. **node_filesystem_avail_bytes**
- **Descripci√≥n**: Espacio disponible en disco
- **Uso**: Prevenir llenado de disco
- **Alerta**: Espacio libre < 15%

## Configuraci√≥n

### Docker Compose

Los servicios est√°n orquestados con `docker-compose.yml`:

- **mysql**: Base de datos con healthcheck
- **webapp**: Aplicaci√≥n Flask con espera a MySQL
- **nginx**: Proxy reverso con SSL/TLS
- **prometheus**: Servidor de m√©tricas
- **node-exporter**: Exportador de m√©tricas del sistema
- **grafana**: Dashboard de visualizaci√≥n

### Nginx

Configuraci√≥n en `docker/nginx/nginx.conf`:

- Redirecci√≥n HTTP ‚Üí HTTPS
- TLS 1.2 y 1.3
- Headers de seguridad (HSTS, X-Frame-Options, etc.)
- Proxy pass a Flask

### Prometheus

Scrape configs en `prometheus/prometheus.yml`:

- **Intervalo**: 15 segundos
- **Targets**: Prometheus, Node Exporter, WebApp
- **Alertas**: CPU, Memoria, Disco, Disponibilidad



## Evidencias

Ver carpeta `evidencias/capturas/` 


## Referencias

- [Docker Documentation](https://docs.docker.com/)
- [Prometheus Documentation](https://prometheus.io/docs/)
- [Grafana Documentation](https://grafana.com/docs/)
- [Flask Documentation](https://flask.palletsprojects.com/)
- [Nginx Documentation](https://nginx.org/en/docs/)